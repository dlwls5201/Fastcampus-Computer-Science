# 쓰레드의 이해

## 스레드
- Light Weight Process 라고도 함
- 프로세스
  - 프로세스 간에는 각 프로세스의 데이터 접근이 불가 -> IPC 필요
- 스레드
  - 하나의 프로세스에 여러개의 스레드 생성 가능
  - 스레드들은 동시에 실행 가능
  - 프로세스 안에 있으므로, 프로세스의 데이터를 모두 접근 가능 -> IPC 불필요
  - 스레드는 각기 실행이 가능한 stack 존재

## 멀티 스레드
- 소프트웨어 병행 작업 처리를 위해 멀티 스레드를 사용함

## 스레드 장점
1. 사용자에 대한 응답성 향상
2. 자원 공유 효율
3. 작업이 분리되어 코드가 간결 / 사실 작성하기 나름

## 스레드 단점
- 스레드 중 한 스레드만 문제가 있어도, 전체 프로세스가 영향을 받음
- 스레드를 많이 생성하면 Context Switching 이 많이 일어나 성능 저하
- 예: 리눅스 OS에서는 Thread를 Process와 같이 다룸

## Mutex와 Semaphore
- Critical Section(임계 구역)에 대한 접근을 막기 위해 LOCKING 메커니즘이 필요

- Mutex(binary semaphore)
    - 임계구역에 하나의 스레드만 들어갈 수 있음

- Semaphore
    - 임계구역에 여러 스레드가 들어갈 수 있음
    - counter를 두어서 동시에 리소스에 접근 할 수 있는 허용 가능한 스레드 수를 제어

## 교착상태(Deadlock)와 기아상태(Starvation)

## 교착상태(deadlock)란?
- 무한 대기 상태: 두 개 이상의 작업이 서로 상대방의 작업이 끝나기 만을 기다리고 있기 때문에, 다음 단계로 진행하지 못하는 상태

> 배치 처리 시스템에서는 일어나지 않는 문제
> 프로세스, 스레드 둘다 이와 같은 상태가 일어날 수 있음

## 기아상태(starvation)
- 특정 프로세스의 우선순위가 낮아서 원하는 자원을 계속 할당 받지 못하는 상태

## 교착상태와 기아상태
- 교착상태는 여러 프로세스가 동일 자원 점유를 요청할 때 발생
- 기아상태는 여러 프로세스가 부족한 자원을 점유하기 위해 경쟁할 때, 특정 프로세스는 영원히 자원 할당이 안되는 경우를 주로 의미함



